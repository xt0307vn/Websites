<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Image</title>
		<link rel="icon" href="./images/New folder/logo.png" type="image/x-icon">

		<style>
			* {
				padding: 0;
				margin: 0;
				box-sizing: border-box;
			}

			body {
				width: 100%;
			}

			.wrapper {
				width: 100%;
				position: relative;
			}

			.images {
				display: grid;
				grid-template-columns: 1fr 1fr 1fr;
				grid-template-rows: 100vh;
				gap: 20px;
				padding: 10px;
			}

			.image {
				width: 100%;
				height: 100%;
				overflow: hidden;
			}

			.image img {
				width: 100%;
				height: 100%;
				object-fit: contain;
				display: block;
			}

			.auth {
				width: 100%;
				height: 100vh;
				background: #fff;
				top: 0;
				left: 0;
				position: absolute;
				display: flex;
				flex-direction: column;
				gap: 20px;
				justify-content: center;
				align-items: center;
			}

			.auth-form input {
				padding: 5px 10px;
			}

			.unauthenticated {
				overflow: hidden;
			}

			@media screen and (max-width: 1536px) {
				.images {
					grid-template-columns: 1fr 1fr;
					gap: 10px;
				}
			}

			@media screen and (max-width: 640px) {
				.images {
					grid-template-columns: 1fr;
					grid-template-rows: none;
					gap: 10px;
				}
			}
		</style>
	</head>
	<body class="unauthenticated">
		<div class="wrapper">
			<div class="auth">
				<div class="auth-form">
					<input type="text" placeholder="username" class="auth-username" value="">
				</div>
				<div class="auth-form">
					<input type="password" placeholder="password" class="auth-password" value="">
				</div>
				<div class="auth-form">
					<input type="button" class="btn-login" value="Xác nhận" />
				</div>
				<p class="error"></p>
			</div>
			<div class="images"></div>
		</div>

		<script>
			const body = document.querySelector("body")
			const auth = document.querySelector(".auth")
			const btnLogin = document.querySelector(".btn-login")
			const inputUsername = document.querySelector(".auth-username")
			const inputPassword = document.querySelector(".auth-password")
			const error = document.querySelector(".error")
			btnLogin.addEventListener("click", function() {
				if (inputUsername.value == "xt0307vn" && inputPassword.value == "xt0307vn") {
					body.style.overflow = "auto"
					auth.style.display = "none"
				} else {
					error.textContent = "Not invalid";
				}
			})

			const images = document.querySelector(".unauthenticated .images")

			const fileUrl = './images.txt'; // Thay đổi đường dẫn này
			// Sử dụng fetch để đọc file

			let images_context = ''
			fetch(fileUrl)
				.then(response => {
					if (!response.ok) {
						throw new Error('Không thể tải file');
					}
					return response.text();
				})
				.then(text => {
					// Tách nội dung thành các dòng
					const lines = text.split('\n');

					// Hiển thị từng dòng trong danh sách
					lines.forEach(line => {
						if (line != "") {
							images_context +=
								`<div class="image"><img src="./images/${line}" alt="${line}"/></div>`
						}
					});
					images.innerHTML = images_context
				})
				.catch(error => {
					const li = document.createElement('li');
					li.textContent = 'Có lỗi khi đọc file: ' + error.message;
					fileLines.appendChild(li);
				});
		</script>

	</body>
</html>